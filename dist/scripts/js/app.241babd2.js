var app;!function(t){var e;!function(t){var e=function(){function t(t,e){this.$state=t,this.$rootScope=e}return t.$inject=["$state","$rootScope"],t}();t.AboutController=e}(e=t.about||(t.about={}))}(app||(app={}));var app;!function(t){var e;!function(t){"use strict";angular.module("app.about",["ui.router"]).controller("AboutController",t.AboutController)}(e=t.about||(t.about={}))}(app||(app={})),function(){"use strict";angular.module("app.about").config(["$stateProvider","$urlRouterProvider",function(t,e){t.state("about",{url:"/about",templateUrl:"app/about/about.html",controller:"AboutController",controllerAs:"vm",resolve:{$title:function(){return"About"}}})}])}();var app;!function(t){var e;!function(t){var e=function(){function t(t,e){this.$state=t,this.$rootScope=e}return t.$inject=["$state","$rootScope"],t}();t.ChangelogController=e}(e=t.changelog||(t.changelog={}))}(app||(app={}));var app;!function(t){var e;!function(t){"use strict";angular.module("app.changelog",["ui.router"]).controller("ChangelogController",t.ChangelogController)}(e=t.changelog||(t.changelog={}))}(app||(app={})),function(){"use strict";angular.module("app.changelog").config(["$stateProvider","$urlRouterProvider",function(t,e){t.state("changelog",{url:"/changelog",templateUrl:"app/changelog/changelog.html",controller:"ChangelogController",controllerAs:"vm",resolve:{$title:function(){return"Changelog"}}})}])}();var app;!function(t){var e;!function(t){var e=function(){function t(t,e,r,o,a){this.$state=t,this.$rootScope=e,this.$q=r,this.heroService=o,this.draftService=a,this.getAllHeroes()}return t.prototype.getAllHeroes=function(){var t=this;this.heroService.getAllHeroes().then(function(e){t.draftService.roster=e},function(t){console.log("error: "+JSON.stringify(t))})},t.prototype.addHeroToBlueTeam=function(t){this.draftService.blueTeam.addHero(t),console.log(this.draftService.recommendHeroes())},t.prototype.addHeroToRedTeam=function(t){this.draftService.redTeam.addHero(t),console.log(this.draftService.recommendHeroes())},t.prototype.unselectHero=function(t){this.draftService.unselectHero(t),console.log(this.draftService.recommendHeroes())},t.prototype.heroIsPicked=function(t){return this.draftService.isHeroPicked(t)},t.$inject=["$state","$rootScope","$q","HeroService","DraftService"],t}();t.DraftController=e}(e=t.draft||(t.draft={}))}(app||(app={}));var app;!function(t){var e;!function(t){"use strict";angular.module("app.draft",["ui.router"]).controller("DraftController",t.DraftController).directive("rosterPortrait",function(){return{restrict:"AE",templateUrl:"app/draft/directives/roster.portrait.directive.html",scope:{hero:"=",vm:"="}}}).directive("teamPortrait",function(){return{restrict:"AE",templateUrl:"app/draft/directives/team.portrait.directive.html",scope:{hero:"=",vm:"="}}})}(e=t.draft||(t.draft={}))}(app||(app={})),function(){"use strict";angular.module("app.draft").config(["$stateProvider","$urlRouterProvider",function(t,e){e.otherwise("/"),t.state("draft",{url:"/",templateUrl:"app/draft/draft.html",controller:"DraftController",controllerAs:"vm",resolve:{$title:function(){return"Draft"}}})}])}();var app;!function(t){var e;!function(t){var e=function(){function t(){}return t.Abathur="Abathur",t.Anubarak="Anub'arak",t.Arthas="Arthas",t}();t.HeroName=e}(e=t.draft||(t.draft={}))}(app||(app={}));var app;!function(t){var e;!function(t){var e=function(){function t(){}return t.Warrior="Warrior",t.Assassin="Assassin",t.Specialist="Specialist",t.Support="Support",t.AllRoles=[t.Warrior,t.Assassin,t.Specialist,t.Support],t}();t.Role=e}(e=t.draft||(t.draft={}))}(app||(app={}));var app;!function(t){var e;!function(t){var e=function(){function t(t,e){this.name=t,this.winRate=e}return t}();t.HeroStatistic=e}(e=t.draft||(t.draft={}))}(app||(app={}));var app;!function(t){var e;!function(t){var e=function(){function t(t){this.name=t,this.withStatistics=new Array,this.againstStatistics=new Array}return t}();t.Hero=e}(e=t.draft||(t.draft={}))}(app||(app={}));var app;!function(t){var e;!function(t){var e=function(){function t(){this.heroes=new Array}return t.prototype.addHero=function(t){this.heroes.length<5&&this.heroes.push(t)},t.prototype.removeHero=function(t){for(var e=0;e<this.heroes.length;e++){var r=this.heroes[e];if(r.name===t.name)return void this.heroes.splice(e,1)}},t}();t.Team=e}(e=t.draft||(t.draft={}))}(app||(app={}));var app;!function(t){var e;!function(t){var e=function(){function e(){this.blueTeam=new t.Team,this.redTeam=new t.Team,this.roster=new Array}return e.prototype.clearTeams=function(){this.blueTeam=new t.Team,this.redTeam=new t.Team},e.prototype.isHeroPicked=function(t){for(var e=0;e<this.blueTeam.heroes.length;e++){var r=this.blueTeam.heroes[e];if(r.name===t.name)return!0}for(var o=0;o<this.redTeam.heroes.length;o++){var a=this.redTeam.heroes[o];if(a.name===t.name)return!0}return!1},e.prototype.unselectHero=function(t){this.blueTeam.removeHero(t),this.redTeam.removeHero(t)},e.prototype.recommendHeroes=function(){for(var e={},r=0;r<this.blueTeam.heroes.length;r++)for(var o=this.blueTeam.heroes[r].withStatistics,a=0;a<o.length;a++){var n=o[a];null==e[n.name]?e[n.name]=n.winRate:e[n.name]+=n.winRate}console.log(e);var i=Array();for(var u in e)if(e.hasOwnProperty(u)){var p=i[0],c=new t.HeroStatistic(u,e[u]);if(0===i.length)i.push(c);else if(c.winRate>p.winRate){for(;i.length>0;)i.pop();i.push(c)}else c.winRate===p.winRate&&i.push(c)}if(i.length>0){for(var r=0;r<i.length;r++){var s=i[r],l=e[s.name]/this.blueTeam.heroes.length-1;console.log("("+s.name+") Average Win Percent: "+l)}return i}},e}();t.DraftService=e,angular.module("app.draft").service("DraftService",e)}(e=t.draft||(t.draft={}))}(app||(app={}));var app;!function(t){var e;!function(t){var e=function(){function e(t,e){this.$http=t,this.$q=e}return e.prototype.getAllHeroes=function(){var e=this.$q.defer();return this.$http.get("http://robert-docherty.com/fknabout/json.json").then(function(r){for(var o=new Array,a=0;a<r.data.length;a++){for(var n=r.data[a],i=new t.Hero(n.name),u=0;u<n.whenOnEnemyTeam.length;u++){var p=n.whenOnEnemyTeam[u],c=new t.HeroStatistic(p.name,+p.winPercent);i.againstStatistics.push(c)}for(var s=0;s<n.whenOnYourTeam.length;s++){var l=n.whenOnYourTeam[s],f=new t.HeroStatistic(l.name,+l.winPercent);i.withStatistics.push(f)}"the"!==i.name&&o.push(i)}e.resolve(o)},function(t){e.reject(t)}),e.promise},e.$inject=["$http","$q"],e}();t.HeroService=e,angular.module("app.draft").service("HeroService",e)}(e=t.draft||(t.draft={}))}(app||(app={}));var app;!function(t){"use strict";angular.module("app",["app.draft","app.changelog","app.about","ui.router","ngDragDrop"])}(app||(app={}));