var app;!function(e){var t;!function(e){var t=function(){function e(e,t){this.$state=e,this.$rootScope=t}return e.$inject=["$state","$rootScope"],e}();e.AboutController=t}(t=e.about||(e.about={}))}(app||(app={}));var app;!function(e){var t;!function(e){"use strict";angular.module("app.about",["ui.router"]).controller("AboutController",e.AboutController)}(t=e.about||(e.about={}))}(app||(app={})),function(){"use strict";angular.module("app.about").config(["$stateProvider","$urlRouterProvider",function(e,t){e.state("about",{url:"/about",templateUrl:"app/about/about.html",controller:"AboutController",controllerAs:"vm",resolve:{$title:function(){return"About"}}})}])}();var app;!function(e){var t;!function(e){var t=function(){function e(e,t){this.$state=e,this.$rootScope=t}return e.$inject=["$state","$rootScope"],e}();e.ChangelogController=t}(t=e.changelog||(e.changelog={}))}(app||(app={}));var app;!function(e){var t;!function(e){"use strict";angular.module("app.changelog",["ui.router"]).controller("ChangelogController",e.ChangelogController)}(t=e.changelog||(e.changelog={}))}(app||(app={})),function(){"use strict";angular.module("app.changelog").config(["$stateProvider","$urlRouterProvider",function(e,t){e.state("changelog",{url:"/changelog",templateUrl:"app/changelog/changelog.html",controller:"ChangelogController",controllerAs:"vm",resolve:{$title:function(){return"Changelog"}}})}])}();var app;!function(e){var t;!function(e){var t=function(){function e(e,t,r,o,a){this.$state=e,this.$rootScope=t,this.$q=r,this.heroService=o,this.draftService=a,this.getAllHeroes()}return e.prototype.getAllHeroes=function(){var e=this;this.heroService.getAllHeroes().then(function(t){e.draftService.roster=t},function(e){console.log("error: "+JSON.stringify(e))})},e.prototype.addHeroToBlueTeam=function(e){this.draftService.blueTeam.addHero(e),console.log(this.draftService.recommendHeroes())},e.prototype.addHeroToRedTeam=function(e){this.draftService.redTeam.addHero(e),console.log(this.draftService.recommendHeroes())},e.prototype.unselectHero=function(e){this.draftService.unselectHero(e),console.log(this.draftService.recommendHeroes())},e.prototype.heroIsPicked=function(e){return this.draftService.isHeroPicked(e)},e.$inject=["$state","$rootScope","$q","HeroService","DraftService"],e}();e.DraftController=t}(t=e.draft||(e.draft={}))}(app||(app={}));var app;!function(e){var t;!function(e){"use strict";angular.module("app.draft",["ui.router"]).controller("DraftController",e.DraftController).directive("rosterPortrait",function(){return{restrict:"AE",templateUrl:"app/draft/directives/roster.portrait.directive.html",scope:{hero:"=",vm:"="}}}).directive("teamPortrait",function(){return{restrict:"AE",templateUrl:"app/draft/directives/team.portrait.directive.html",scope:{hero:"=",vm:"="}}})}(t=e.draft||(e.draft={}))}(app||(app={})),function(){"use strict";angular.module("app.draft").config(["$stateProvider","$urlRouterProvider",function(e,t){t.otherwise("/"),e.state("draft",{url:"/",templateUrl:"app/draft/draft.html",controller:"DraftController",controllerAs:"vm",resolve:{$title:function(){return"Draft"}}})}])}();var app;!function(e){var t;!function(e){var t=function(){function e(){}return e.Abathur="Abathur",e.Anubarak="Anub'arak",e.Arthas="Arthas",e}();e.HeroName=t}(t=e.draft||(e.draft={}))}(app||(app={}));var app;!function(e){var t;!function(e){var t=function(){function e(){}return e.Warrior="Warrior",e.Assassin="Assassin",e.Specialist="Specialist",e.Support="Support",e.AllRoles=[e.Warrior,e.Assassin,e.Specialist,e.Support],e}();e.Role=t}(t=e.draft||(e.draft={}))}(app||(app={}));var app;!function(e){var t;!function(e){var t=function(){function e(e,t){this.name=e,this.winRate=t}return e}();e.HeroStatistic=t}(t=e.draft||(e.draft={}))}(app||(app={}));var app;!function(e){var t;!function(e){var t=function(){function e(e){this.name=e,this.withStatistics=new Array,this.againstStatistics=new Array}return e}();e.Hero=t}(t=e.draft||(e.draft={}))}(app||(app={}));var app;!function(e){var t;!function(e){var t=function(){function e(){this.heroes=new Array}return e.prototype.addHero=function(e){this.heroes.length<5&&this.heroes.push(e)},e.prototype.removeHero=function(e){for(var t=0;t<this.heroes.length;t++){var r=this.heroes[t];if(r.name===e.name)return void this.heroes.splice(t,1)}},e}();e.Team=t}(t=e.draft||(e.draft={}))}(app||(app={}));var app;!function(e){var t;!function(e){var t=function(){function t(){this.blueTeam=new e.Team,this.redTeam=new e.Team,this.roster=new Array,this.recommendedHeroes=new Array}return t.prototype.clearTeams=function(){this.blueTeam=new e.Team,this.redTeam=new e.Team},t.prototype.isHeroPicked=function(e){for(var t=0;t<this.blueTeam.heroes.length;t++){var r=this.blueTeam.heroes[t];if(r.name===e.name)return!0}for(var o=0;o<this.redTeam.heroes.length;o++){var a=this.redTeam.heroes[o];if(a.name===e.name)return!0}return!1},t.prototype.unselectHero=function(e){this.blueTeam.removeHero(e),this.redTeam.removeHero(e)},t.prototype.recommendHeroes=function(){if(5===this.blueTeam.heroes.length||0===this.blueTeam.heroes.length&&0===this.redTeam.heroes.length)for(;this.recommendedHeroes.length>0;)this.recommendedHeroes.pop();else{for(var t={},r=0;r<this.blueTeam.heroes.length;r++)for(var o=this.blueTeam.heroes[r].withStatistics,a=0;a<o.length;a++){var n=o[a];null==t[n.name]?t[n.name]=n.winRate:t[n.name]+=n.winRate}for(var r=0;r<this.redTeam.heroes.length;r++)for(var i=this.redTeam.heroes[r].againstStatistics,a=0;a<i.length;a++){var s=i[a];null==t[s.name]?t[s.name]=s.winRate:t[s.name]+=s.winRate}console.log(t);var u=Array();for(var p in t)if(t.hasOwnProperty(p)){var c=u[0],l=new e.HeroStatistic(p,t[p]);if(0===u.length)u.push(l);else if(l.winRate>c.winRate){for(;u.length>0;)u.pop();u.push(l)}else l.winRate===c.winRate&&u.push(l)}var h=new Array;if(u.length>0){for(var r=0;r<u.length;r++){var f=u[r],v=this.blueTeam.heroes.length+this.redTeam.heroes.length,m=t[f.name]/v;console.log("("+f.name+") Average Win Percent: "+m),h.push(new e.HeroStatistic(f.name,+m.toFixed(2)))}this.recommendedHeroes=h}}},t}();e.DraftService=t,angular.module("app.draft").service("DraftService",t)}(t=e.draft||(e.draft={}))}(app||(app={}));var app;!function(e){var t;!function(e){var t=function(){function t(e,t){this.$http=e,this.$q=t}return t.prototype.getAllHeroes=function(){var t=this.$q.defer();return this.$http.get("http://robert-docherty.com/fknabout/json.json").then(function(r){for(var o=new Array,a=0;a<r.data.length;a++){for(var n=r.data[a],i=new e.Hero(n.name),s=0;s<n.whenOnEnemyTeam.length;s++){var u=n.whenOnEnemyTeam[s],p=new e.HeroStatistic(u.name,+u.winPercent);i.againstStatistics.push(p)}for(var c=0;c<n.whenOnYourTeam.length;c++){var l=n.whenOnYourTeam[c],h=new e.HeroStatistic(l.name,+l.winPercent);i.withStatistics.push(h)}"the"!==i.name&&o.push(i)}t.resolve(o)},function(e){t.reject(e)}),t.promise},t.$inject=["$http","$q"],t}();e.HeroService=t,angular.module("app.draft").service("HeroService",t)}(t=e.draft||(e.draft={}))}(app||(app={}));var app;!function(e){"use strict";angular.module("app",["app.draft","app.changelog","app.about","ui.router","ngDragDrop"])}(app||(app={}));